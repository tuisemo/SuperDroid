# SuperDroid æ™ºèƒ½è¾…åŠ©ä½“ç³»å®Œæ•´è®¾è®¡æ–¹æ¡ˆ

## è®¾è®¡ç›®æ ‡

ä¸ºä¸­æ–‡ç”¨æˆ·æ‰“é€ ä¸€å¥—å®Œæ•´çš„Factory Droid/AIè¾…åŠ©å·¥å…·é“¾ï¼Œè¦†ç›–ä»¥ä¸‹æ ¸å¿ƒåœºæ™¯ï¼š
1. **ç¼–ç å¼€å‘**ï¼šä»£ç ç”Ÿæˆã€è°ƒè¯•ã€é‡æ„ã€æµ‹è¯•
2. **ç ”ç©¶è°ƒç ”**ï¼šæŠ€æœ¯é€‰å‹ã€APIç ”ç©¶ã€ç«å“åˆ†æ
3. **æŠ¥å‘Šç¼–å†™**ï¼šæŠ€æœ¯æŠ¥å‘Šã€æ¶æ„è®¾è®¡ã€é¡¹ç›®æ€»ç»“
4. **æ–‡æ¡£ç®¡ç†**ï¼šAPIæ–‡æ¡£ã€ä½¿ç”¨æ‰‹å†Œã€çŸ¥è¯†åº“ç»´æŠ¤
5. **è´¨é‡ä¿éšœ**ï¼šä»£ç å®¡æŸ¥ã€å®‰å…¨å®¡è®¡ã€æ€§èƒ½åˆ†æ
6. **çŸ¥è¯†æ²‰æ·€**ï¼šç»éªŒæå–ã€æœ€ä½³å®è·µã€é”™è¯¯é˜²æŠ¤

## ä¸€ã€Hooksä½“ç³»è®¾è®¡

### 1.1 Hookäº‹ä»¶æ˜ å°„è¡¨

| Hookäº‹ä»¶ | ç”¨é€” | æ’å…¥ç‚¹ | é˜»æ–­èƒ½åŠ› |
|---------|------|--------|---------|
| SessionStart | ç¯å¢ƒæ£€æŸ¥ã€é¡¹ç›®åˆå§‹åŒ– | ä¼šè¯å¼€å§‹æ—¶ | âŒ |
| UserPromptSubmit | å‘½ä»¤å®¡è®¡ã€æ„å›¾åˆ†æ | ç”¨æˆ·æäº¤æç¤ºå‰ | âœ… |
| PreToolUse | æ–‡ä»¶ä¿æŠ¤ã€å‘½ä»¤éªŒè¯ | å·¥å…·è°ƒç”¨å‰ | âœ… |
| PostToolUse | è‡ªåŠ¨æ ¼å¼åŒ–ã€å˜æ›´è®°å½• | å·¥å…·è°ƒç”¨å | âŒ |
| Notification | å¤šæ¸ é“é€šçŸ¥ | å‘é€é€šçŸ¥æ—¶ | âŒ |
| SubagentStop | ç»“æœéªŒè¯ã€ç»éªŒæå– | å­droidå®Œæˆæ—¶ | âŒ |
| Stop | ç»“æœæ±‡æ€»ã€çŠ¶æ€æ›´æ–° | droidå“åº”å®Œæˆæ—¶ | âŒ |
| SessionEnd | ä¼šè¯æ€»ç»“ã€æ—¥å¿—å½’æ¡£ | ä¼šè¯ç»“æŸæ—¶ | âŒ |

### 1.2 æ ¸å¿ƒHookè®¾è®¡

#### H1: ç¯å¢ƒå¥åº·æ£€æŸ¥ (SessionStart)
**æ–‡ä»¶**: `.factory/hooks/session-init-check.ps1`

åŠŸèƒ½ï¼š
- æ£€æŸ¥Pythonç¯å¢ƒå¯ç”¨æ€§
- éªŒè¯é¡¹ç›®ä¾èµ–å®Œæ•´æ€§
- æ£€æŸ¥GitçŠ¶æ€
- éªŒè¯å¿…è¦å·¥å…·é“¾ï¼ˆpytest, black, prettierç­‰ï¼‰
- æ£€æŸ¥ç£ç›˜ç©ºé—´å’Œèµ„æºå¯ç”¨æ€§

```powershell
# è¾“å‡ºç»“æ„
{
  "status": "ready/warning/critical",
  "issues": [...],
  "recommendations": [...]
}
```

#### H2: å‘½ä»¤å®¡è®¡æ‹¦æˆª (UserPromptSubmit)
**æ–‡ä»¶**: `.factory/hooks/command-validator.ps1`

åŠŸèƒ½ï¼š
- æ£€æµ‹å±é™©å‘½ä»¤æ¨¡å¼ï¼ˆrm -rf, åˆ é™¤ç”Ÿäº§æ•°æ®ç­‰ï¼‰
- è¯†åˆ«æ½œåœ¨çš„Gitæ“ä½œé£é™©ï¼ˆforce push, reset --hardï¼‰
- å®¡è®¡æ•æ„Ÿæ–‡ä»¶è®¿é—®è¯·æ±‚
- è®°å½•ç”¨æˆ·æ„å›¾å†å²

é˜»æ–­è§„åˆ™ï¼š
```
å±é™©æ¨¡å¼ â†’ æ‹¦æˆªå¹¶è¦æ±‚äºŒæ¬¡ç¡®è®¤
å¯ç–‘æ“ä½œ â†’ è®°å½•æ—¥å¿—å¹¶å‘é€è­¦å‘Š
æ­£å¸¸æ“ä½œ â†’ ç›´æ¥æ”¾è¡Œ
```

#### H3: æ™ºèƒ½æ–‡ä»¶ä¿æŠ¤ (PreToolUse)
**æ–‡ä»¶**: `.factory/hooks/enhanced-file-protect.ps1`

åŠŸèƒ½ï¼š
- ä¿æŠ¤æ•æ„Ÿæ–‡ä»¶ï¼ˆ.env, secrets, keys, certificatesï¼‰
- ä¿æŠ¤ç”Ÿäº§é…ç½®æ–‡ä»¶
- ä¿æŠ¤é”å®šæ–‡ä»¶ï¼ˆé€šè¿‡.git/lockæ ‡è®°ï¼‰
- ä¿æŠ¤æ•°æ®åº“è¿ç§»æ–‡ä»¶ï¼ˆéœ€è¦å®¡è®¡è®°å½•ï¼‰
- æ™ºèƒ½ç™½åå•æœºåˆ¶

#### H4: å˜æ›´è‡ªåŠ¨è·Ÿè¸ª (PostToolUse)
**æ–‡ä»¶**: `.factory/hooks/change-tracker.ps1`

åŠŸèƒ½ï¼š
- è®°å½•æ‰€æœ‰æ–‡ä»¶å˜æ›´åˆ°å˜æ›´æ—¥å¿—
- è‡ªåŠ¨åˆ†ç±»å˜æ›´ç±»å‹ï¼ˆæ–°å¢/ä¿®æ”¹/åˆ é™¤ï¼‰
- ç”Ÿæˆå˜æ›´æ‘˜è¦å½±å“åˆ†æ
- æ›´æ–°.gitignoreå»ºè®®ï¼ˆå¦‚å‘ç°æœªè·Ÿè¸ªçš„æ„å»ºäº§ç‰©ï¼‰
- æäº¤å˜æ›´ç»Ÿè®¡åˆ°ä¼šè¯ä¸Šä¸‹æ–‡

#### H5: ä»£ç è´¨é‡é—¨ç¦ (PostToolUse)
**æ–‡ä»¶**: `.factory/hooks/code-quality-gate.ps1`

åŠŸèƒ½ï¼š
- åœ¨ä»£ç ç¼–è¾‘åè¿è¡Œå¿«é€ŸLintæ£€æŸ¥
- æ£€æµ‹åŸºæœ¬å®‰å…¨æ¼æ´æ¨¡å¼ï¼ˆSQLæ³¨å…¥ã€XSSã€ç¡¬ç¼–ç å¯†é’¥ï¼‰
- éªŒè¯ä»£ç é£æ ¼ä¸€è‡´æ€§
- æ ‡è®°æ½œåœ¨çš„ç ´åæ€§ä¿®æ”¹
- æä¾›ä¿®æ”¹å»ºè®®

#### H6: å¤šæ¸ é“é€šçŸ¥ (Notification)
**æ–‡ä»¶**: `.factory/hooks/multi-channel-notify.ps1`

åŠŸèƒ½ï¼š
- æ¡Œé¢é€šçŸ¥ï¼ˆWindowsé€šçŸ¥ç³»ç»Ÿï¼‰
- ç³»ç»Ÿæ‰˜ç›˜æç¤º
- æ—¥å¿—é«˜äº®è®°å½•
- å¯é€‰ï¼šSlack/ä¼ä¸šå¾®ä¿¡é€šçŸ¥
- å¯é€‰ï¼šWebhooké›†æˆ

#### H7: å­ä»»åŠ¡ç»“æœéªŒè¯ (SubagentStop)
**æ–‡ä»¶**: `.factory/hooks/subtask-validator.ps1`

åŠŸèƒ½ï¼š
- éªŒè¯å­droidè¾“å‡ºå®Œæ•´æ€§
- æ£€æŸ¥æ˜¯å¦æ»¡è¶³éªŒæ”¶æ ‡å‡†
- æå–å’Œåˆ†ç±»å…³é”®æŒ‡æ ‡
- ç”Ÿæˆå­ä»»åŠ¡æŠ¥å‘Š
- è§¦å‘åç»­ä»»åŠ¡æˆ–ç»éªŒæå–

#### H8: ä¼šè¯æ™ºèƒ½æ€»ç»“ (Stop)
**æ–‡ä»¶**: `.factory/hooks/session-summaries.ps1`

åŠŸèƒ½ï¼š
- ç”Ÿæˆä¼šè¯æ´»åŠ¨æ‘˜è¦
- æå–å…³é”®æˆæœå’Œå˜æ›´
- è¯†åˆ«é‡åˆ°çš„å›°éš¾å’Œè§£å†³æ–¹æ¡ˆ
- æ›´æ–°é¡¹ç›®çŸ¥è¯†åº“
- ç”Ÿæˆå¯æ‰§è¡Œçš„ä¸‹ä¸€æ­¥å»ºè®®

#### H9: æ—¥å¿—å½’æ¡£å’Œæ¸…ç† (SessionEnd)
**æ–‡ä»¶**: `.factory/hooks/session-cleanup.ps1**

åŠŸèƒ½ï¼š
- æŒ‰æ—¥æœŸå½’ç±»æ—¥å¿—æ–‡ä»¶
- å‹ç¼©å†å²æ—¥å¿—ï¼ˆä¿ç•™ç­–ç•¥ï¼‰
- æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- æ›´æ–°ç´¢å¼•
- ç”Ÿæˆä¼šè¯ç»“æŸæ—¶é—´æˆ³

### 1.3 Hooké…ç½®ç»“æ„

```json
{
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\session-init-check.ps1\"",
            "timeout": 30
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\command-validator.ps1\"",
            "timeout": 10
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write|Execute",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\enhanced-file-protect.ps1\"",
            "timeout": 10
          }
        ]
      },
      {
        "matcher": "Bash|Execute",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\code-quality-gate.ps1\"",
            "timeout": 15
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\change-tracker.ps1\"",
            "timeout": 15
          }
        ]
      },
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\auto-format.ps1\"",
            "timeout": 30
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\multi-channel-notify.ps1\"",
            "timeout": 10
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\subtask-validator.ps1\"",
            "timeout": 15
          },
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\lesson-extractor.ps1\"",
            "timeout": 10
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\session-summaries.ps1\"",
            "timeout": 20
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "pwsh -NoProfile -File \"$env:FACTORY_PROJECT_DIR\\.factory\\hooks\\session-cleanup.ps1\"",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
```

## äºŒã€Skillsä½“ç³»è®¾è®¡

### 2.1 ç°æœ‰Skillsï¼ˆæ”¹è¿›ä¼˜åŒ–ï¼‰

#### S1: auto-test-and-fixï¼ˆä¿ç•™å¢å¼ºï¼‰
ä¿ç•™ç°æœ‰åŠŸèƒ½ï¼Œå¢åŠ ï¼š
- è¦†ç›–ç‡é˜ˆå€¼æ£€æŸ¥
- æ€§èƒ½å›å½’æ£€æµ‹
- å¤šæ¡†æ¶æ”¯æŒï¼ˆpytest, jest, unittest, Go testï¼‰

#### S2: self-lesson-extractï¼ˆä¿ç•™å¢å¼ºï¼‰
ä¿ç•™ç°æœ‰åŠŸèƒ½ï¼Œå¢åŠ ï¼š
- ç»éªŒåˆ†ç±»æ ‡ç­¾åŒ–
- ç»éªŒç›¸å…³æ€§è¯„åˆ†
- è‡ªåŠ¨åˆå¹¶é‡å¤ç»éªŒ
- ç»éªŒéªŒè¯è§„åˆ™

#### S3: plan-critique-fixï¼ˆä¿ç•™å¢å¼ºï¼‰
ä¿ç•™ç°æœ‰åŠŸèƒ½ï¼Œå¢åŠ ï¼š
- é£é™©è¯„ä¼°
- èµ„æºéœ€æ±‚ä¼°ç®—
- ä¾èµ–å…³ç³»åˆ†æ
- å›æ»šç­–ç•¥å»ºè®®

### 2.2 æ–°å¢Skills

#### S4: æŠ€æœ¯æŠ¥å‘Šç”Ÿæˆå™¨ (technical-report)
**æ–‡ä»¶**: `.factory/skills/technical-report/SKILL.md`

åŠŸèƒ½ï¼š
- ä»é¡¹ç›®æ•°æ®ã€ç ”ç©¶å†…å®¹ã€éœ€æ±‚åˆ†æç”ŸæˆæŠ€æœ¯æŠ¥å‘Š
- æ”¯æŒå¤šç§æŠ¥å‘Šæ¨¡æ¿ï¼ˆæ¶æ„è®¾è®¡ã€éœ€æ±‚åˆ†æã€å¯è¡Œæ€§ç ”ç©¶ï¼‰
- è‡ªåŠ¨ç”Ÿæˆå›¾è¡¨å’Œå¯è§†åŒ–å»ºè®®
- åŒ…å«æ‰§è¡Œæ‘˜è¦ã€æŠ€æœ¯ç»†èŠ‚ã€é£é™©åˆ†æã€å»ºè®®ç­‰ç« èŠ‚

**é€‚ç”¨åœºæ™¯**ï¼š
- æ¶æ„è®¾è®¡æ–‡æ¡£
- æŠ€æœ¯é€‰å‹æŠ¥å‘Š
- å¯è¡Œæ€§åˆ†æ
- é¡¹ç›®æ€»ç»“æŠ¥å‘Š

**è¾“å…¥æ ¼å¼**ï¼š
```
æŠ¥å‘Šç±»å‹ï¼š[æ¶æ„è®¾è®¡/æŠ€æœ¯é€‰å‹/å¯è¡Œæ€§åˆ†æ/é¡¹ç›®æ€»ç»“]
é¡¹ç›®/ä¸»é¢˜ï¼š[å…·ä½“åç§°]
å…³é”®æ•°æ®ï¼š[ç›¸å…³ä»£ç ã€ç ”ç©¶ç»“æœã€æŒ‡æ ‡]
ç›®æ ‡å—ä¼—ï¼š[æŠ€æœ¯äººå‘˜/ç®¡ç†å±‚/å®¢æˆ·]
```

**è¾“å‡ºæ ¼å¼**ï¼š
```markdown
# [æŠ¥å‘Šæ ‡é¢˜]

## æ‰§è¡Œæ‘˜è¦
[2-3æ®µç®€æ˜æ¦‚è¿°]

## èƒŒæ™¯
[é¡¹ç›®èƒŒæ™¯å’Œä¸Šä¸‹æ–‡]

## æŠ€æœ¯æ–¹æ¡ˆ
[è¯¦ç»†æŠ€æœ¯è®¾è®¡]

## é£é™©åˆ†æ
- æŠ€æœ¯é£é™©
- æ—¶é—´é£é™©
- èµ„æºé£é™©

## å»ºè®®
[å…·ä½“å»ºè®®å’Œåç»­æ­¥éª¤]

## é™„å½•
- å‚è€ƒèµ„æ–™
- ç›¸å…³æ–‡æ¡£é“¾æ¥
```

#### S5: ä¸­æ–‡ç¿»è¯‘åŠ©æ‰‹ (zh-translator)
**æ–‡ä»¶**: `.factory/skills/zh-translator/SKILL.md`

åŠŸèƒ½ï¼š
- è‹±æ–‡åˆ°ä¸­æ–‡çš„æŠ€æœ¯æ–‡æ¡£ç¿»è¯‘
- ä¿æŒæŠ€æœ¯æœ¯è¯­å‡†ç¡®æ€§
- é€‚é…ä¸­æ–‡æŠ€æœ¯è¡¨è¾¾ä¹ æƒ¯
- å¤„ç†ä»£ç å—ã€è¡¨æ ¼ã€é“¾æ¥ç­‰æ ¼å¼

**é€‚ç”¨åœºæ™¯**ï¼š
- ç¿»è¯‘è‹±æ–‡æŠ€æœ¯æ–‡æ¡£
- æœ¬åœ°åŒ–å¼€æºé¡¹ç›®æ–‡æ¡£
- è·¨å›¢é˜Ÿæ²Ÿé€šæ–‡æ¡£

**ç¿»è¯‘åŸåˆ™**ï¼š
- ä¿ç•™æŠ€æœ¯ä¸“æœ‰åè¯ä¸ç¿»è¯‘ï¼ˆå¦‚ API, endpoint, middlewareï¼‰
- ä¿æŒä»£ç ç¤ºä¾‹ä¸å˜
- è¡¨è¾¾ç¬¦åˆä¸­æ–‡æŠ€æœ¯ç¤¾åŒºä¹ æƒ¯
- æ³¨æ„æ—¶æ€å’Œäººç§°çš„è½¬æ¢

#### S6: æ¶æ„è®¾è®¡è¯„å®¡ (architecture-review)
**æ–‡ä»¶**: `.factory/skills/architecture-review/SKILL.md`

åŠŸèƒ½ï¼š
- ä»ä»£ç åº“åˆ†æç³»ç»Ÿæ¶æ„
- è¯†åˆ«è®¾è®¡æ¨¡å¼å’Œåæ¨¡å¼
- è¯„ä¼°æ¶æ„è´¨é‡æŒ‡æ ‡ï¼ˆè€¦åˆåº¦ã€å†…èšæ€§ã€æ‰©å±•æ€§ï¼‰
- æä¾›æ¶æ„æ”¹è¿›å»ºè®®

**è¯„å®¡ç»´åº¦**ï¼š
- æ¨¡å—åˆ’åˆ†åˆç†æ€§
- æ¥å£è®¾è®¡è´¨é‡
- æ•°æ®æµè®¾è®¡
- å¯æ‰©å±•æ€§
- å¯ç»´æŠ¤æ€§
- æ€§èƒ½è€ƒè™‘

**è¾“å‡ºæ ¼å¼**ï¼š
```
æ¶æ„è¯„åˆ†ï¼šX/100

æ¨¡å—åˆ†æï¼š
- [æ¨¡å—å]ï¼š[è¯„ä»·]

è®¾è®¡æ¨¡å¼ï¼š
- ä½¿ç”¨æ¨¡å¼ï¼š[åˆ—å‡º]
- å»ºè®®å¼•å…¥ï¼š[åˆ—å‡º]

é—®é¢˜ä¸å»ºè®®ï¼š
- é—®é¢˜1ï¼š[æè¿°] â†’ å»ºè®®ï¼š[è§£å†³æ–¹æ¡ˆ]
- é—®é¢˜2ï¼š[æè¿°] â†’ å»ºè®®ï¼š[è§£å†³æ–¹æ¡ˆ]
```

#### S7: ä»£ç å®¡æŸ¥åŠ©æ‰‹ (code-review)
**æ–‡ä»¶**: `.factory/skills/code-review/SKILL.md`

åŠŸèƒ½ï¼š
- æ·±åº¦ä»£ç å®¡æŸ¥
- å®‰å…¨æ¼æ´æ£€æµ‹
- æ€§èƒ½ç“¶é¢ˆè¯†åˆ«
- æœ€ä½³å®è·µåˆè§„æ£€æŸ¥
- ä»£ç å¯è¯»æ€§è¯„ä¼°

**å®¡æŸ¥å†…å®¹**ï¼š
```
å®‰å…¨æ€§ï¼š
- SQLæ³¨å…¥
- XSSæ”»å‡»
- ç¡¬ç¼–ç å¯†é’¥
- ä¸å®‰å…¨çš„ååºåˆ—åŒ–

æ€§èƒ½ï¼š
- O(nÂ²)å¤æ‚åº¦
- é‡å¤æŸ¥è¯¢
- å†…å­˜æ³„æ¼
- ä¸å¿…è¦çš„è®¡ç®—

è´¨é‡ï¼š
- å‘½åè§„èŒƒ
- ä»£ç å¤æ‚åº¦
- å‡½æ•°é•¿åº¦
- é‡å¤ä»£ç 

å¯ç»´æŠ¤æ€§ï¼š
- æ¨¡å—è€¦åˆ
- æ–‡æ¡£å®Œæ•´æ€§
- é”™è¯¯å¤„ç†
- æµ‹è¯•è¦†ç›–
```

#### S8: æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ (doc-generator)
**æ–‡ä»¶**: `.factory/skills/doc-generator/SKILL.md`

åŠŸèƒ½ï¼š
- ä»ä»£ç æ³¨é‡Šç”ŸæˆAPIæ–‡æ¡£
- ç”Ÿæˆä½¿ç”¨ç¤ºä¾‹
- åˆ›å»ºæ¶æ„å›¾ï¼ˆMermaidæ ¼å¼ï¼‰
- ç”ŸæˆREADMEæ¨¡æ¿

**æ”¯æŒæ–‡æ¡£ç±»å‹**ï¼š
- APIæ–‡æ¡£ï¼ˆOpenAPI/Swaggerï¼‰
- æ¨¡å—è¯´æ˜æ–‡æ¡£
- é…ç½®æ–‡æ¡£
- éƒ¨ç½²æ–‡æ¡£
- æ•…éšœæ’æŸ¥æ–‡æ¡£

#### S9: éœ€æ±‚åˆ†æåŠ©æ‰‹ (requirements-analysis)
**æ–‡ä»¶**: `.factory/skills/requirements-analysis/SKILL.md`

åŠŸèƒ½ï¼š
- ä»ç”¨æˆ·æè¿°æå–éœ€æ±‚
- è¯†åˆ«åŠŸèƒ½éœ€æ±‚å’ŒéåŠŸèƒ½éœ€æ±‚
- ç”Ÿæˆç”¨æˆ·æ•…äº‹
- åˆ›å»ºéªŒæ”¶æ ‡å‡†
- è¿›è¡Œéœ€æ±‚å¯è¡Œæ€§åˆ†æ

**è¾“å‡ºæ ¼å¼**ï¼š
```
éœ€æ±‚æ¸…å•ï¼š
åŠŸèƒ½æ€§éœ€æ±‚ï¼š
- FR-001: [æè¿°]
- FR-002: [æè¿°]

éåŠŸèƒ½æ€§éœ€æ±‚ï¼š
- NFR-001: æ€§èƒ½ - [å…·ä½“æŒ‡æ ‡]
- NFR-002: å®‰å…¨æ€§ - [è¦æ±‚]

ç”¨æˆ·æ•…äº‹ï¼š
ä½œä¸º[è§’è‰²]ï¼Œæˆ‘æƒ³è¦[åŠŸèƒ½]ï¼Œä»¥ä¾¿[ä»·å€¼]

éªŒæ”¶æ ‡å‡†ï¼š
- [æ ‡å‡†1]
- [æ ‡å‡†2]

é£é™©è¯†åˆ«ï¼š
- [é£é™©] - [ç¼“è§£æªæ–½]
```

#### S10: æ•°æ®åº“è®¾è®¡åŠ©æ‰‹ (database-design)
**æ–‡ä»¶**: `.factory/skills/database-design/SKILL.md`

åŠŸèƒ½ï¼š
- ERå›¾è®¾è®¡
- è¡¨ç»“æ„è®¾è®¡
- ç´¢å¼•ä¼˜åŒ–å»ºè®®
- æŸ¥è¯¢æ€§èƒ½åˆ†æ
- è¿ç§»è„šæœ¬ç”Ÿæˆ

**è®¾è®¡åŸåˆ™**ï¼š
- ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰
- åˆç†çš„ç´¢å¼•ç­–ç•¥
- è€ƒè™‘æŸ¥è¯¢æ¨¡å¼
- å­—æ®µç±»å‹ä¼˜åŒ–
- å¤–é”®å…³ç³»è®¾è®¡

#### S11: APIè®¾è®¡åŠ©æ‰‹ (api-design)
**æ–‡ä»¶**: `.factory/skills/api-design/SKILL.md`

åŠŸèƒ½ï¼š
- RESTful APIè®¾è®¡
- æ¥å£ç‰ˆæœ¬åŒ–ç­–ç•¥
- é”™è¯¯ç å®šä¹‰
- è¯·æ±‚/å“åº”ç¤ºä¾‹
- OpenAPIè§„èŒƒç”Ÿæˆ

**è®¾è®¡è§„èŒƒ**ï¼š
```
URLè®¾è®¡ï¼š/api/v1/{resource}/{id}
HTTPæ–¹æ³•ï¼š
- GET: æŸ¥è¯¢
- POST: åˆ›å»º
- PUT/PATCH: æ›´æ–°
- DELETE: åˆ é™¤

å“åº”æ ¼å¼ï¼š
{
  "code": 200,
  "message": "success",
  "data": {...}
}
```

#### S12: é¡¹ç›®è¿ç§»æŒ‡å¯¼ (migration-guide)
**æ–‡ä»¶**: `.factory/skills/migration-guide/SKILL.md`

åŠŸèƒ½ï¼š
- æŠ€æœ¯æ ˆè¿ç§»è§„åˆ’ï¼ˆå¦‚Vue2â†’Vue3ï¼‰
- æ¡†æ¶è¿ç§»æ­¥éª¤
- å…¼å®¹æ€§æ£€æŸ¥
- å›æ»šç­–ç•¥
- è¿ç§»æµ‹è¯•è®¡åˆ’

**è¾“å‡ºå†…å®¹**ï¼š
```
è¿ç§»è·¯å¾„ï¼š[è¯¦ç»†æ­¥éª¤]

å…¼å®¹æ€§çŸ©é˜µï¼š
- [ç»„ä»¶]ï¼š[çŠ¶æ€]

è¿ç§»æ£€æŸ¥æ¸…å•ï¼š
- [ ] å‡†å¤‡å·¥ä½œ
- [ ] ä»£ç è¿ç§»
- [ ] ä¾èµ–æ›´æ–°
- [ ] æµ‹è¯•éªŒè¯
- [ ] éƒ¨ç½²ä¸Šçº¿
```

#### S13: æ€§èƒ½ä¼˜åŒ–å»ºè®® (performance-optimizer)
**æ–‡ä»¶**: `.factory/skills/performance-optimizer/SKILL.md`

åŠŸèƒ½ï¼š
- ä»£ç æ€§èƒ½åˆ†æ
- æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- ç¼“å­˜ç­–ç•¥å»ºè®®
- èµ„æºåŠ è½½ä¼˜åŒ–ï¼ˆå‰ç«¯ï¼‰
- å¹¶å‘å¤„ç†ä¼˜åŒ–

**ä¼˜åŒ–ç»´åº¦**ï¼š
```
å‰ç«¯ï¼š
- ä»£ç åˆ†å‰²
- æ‡’åŠ è½½
- èµ„æºå‹ç¼©
- CDNä½¿ç”¨

åç«¯ï¼š
- ç®—æ³•ä¼˜åŒ–
- æ•°æ®åº“ç´¢å¼•
- ç¼“å­˜ç­–ç•¥
- å¼‚æ­¥å¤„ç†
```

#### S14: æµ‹è¯•ç­–ç•¥è®¾è®¡ (test-strategy)
**æ–‡ä»¶**: `.factory/skills/test-strategy/SKILL.md`

åŠŸèƒ½ï¼š
- æµ‹è¯•é‡‘å­—å¡”è®¾è®¡
- æµ‹è¯•è¦†ç›–ç‡è§„åˆ’
- æµ‹è¯•æ•°æ®ç®¡ç†
- E2Eæµ‹è¯•è®¾è®¡
- æ€§èƒ½æµ‹è¯•è§„åˆ’

**æµ‹è¯•å±‚æ¬¡**ï¼š
```
å•å…ƒæµ‹è¯•ï¼š[å·¥å…·ã€è¦†ç›–ç‡ç›®æ ‡]
é›†æˆæµ‹è¯•ï¼š[å…³é”®æµç¨‹]
APIæµ‹è¯•ï¼š[ç«¯ç‚¹è¦†ç›–]
E2Eæµ‹è¯•ï¼š[æ ¸å¿ƒç”¨æˆ·è·¯å¾„]
æ€§èƒ½æµ‹è¯•ï¼š[å‹åŠ›æµ‹è¯•åœºæ™¯]
```

#### S15: å®¹å™¨åŒ–éƒ¨ç½²åŠ©æ‰‹ (containerization)
**æ–‡ä»¶**: `.factory/skills/containerization/SKILL.md`

åŠŸèƒ½ï¼š
- Dockerfileç”Ÿæˆ
- Docker Composeé…ç½®
- Kubernetesé…ç½®ç”Ÿæˆ
- éƒ¨ç½²æµç¨‹è®¾è®¡
- å¥åº·æ£€æŸ¥é…ç½®

**ç”Ÿæˆå†…å®¹**ï¼š
```
Dockerfile: [ä¼˜åŒ–é…ç½®]

docker-compose.yml: [æœåŠ¡ç¼–æ’]

k8sé…ç½®: [deployment, service, ingress]

CI/CD: [éƒ¨ç½²æµç¨‹]
```

## ä¸‰ã€Droidsä½“ç³»ä¼˜åŒ–

### 3.1 ç°æœ‰Droidså¢å¼º

#### D1: supervisorï¼ˆå¢å¼ºï¼‰
ç°æœ‰åŠŸèƒ½å¢å¼ºï¼š
- ä¸­æ–‡äº¤äº’èƒ½åŠ›æå‡
- æ›´ç»†åŒ–ä»»åŠ¡åˆ†è§£
- åŠ¨æ€è°ƒæ•´ç­–ç•¥
- å¤šè¯­è¨€èµ„æºæ”¯æŒ

#### D2: coderï¼ˆå¢å¼ºï¼‰
ç°æœ‰åŠŸèƒ½å¢å¼ºï¼š
- ä»£ç ç”Ÿæˆè´¨é‡æå‡ï¼ˆä¸­æ–‡æ³¨é‡Šï¼‰
- æ¡†æ¶ç‰¹å®šæœ€ä½³å®è·µ
- å®‰å…¨ç¼–ç æ ‡å‡†
- æ€§èƒ½ä¼˜åŒ–æ„è¯†

#### D3: testerï¼ˆå¢å¼ºï¼‰
ç°æœ‰åŠŸèƒ½å¢å¼ºï¼š
- æµ‹è¯•æŠ¥å‘Šç”Ÿæˆï¼ˆä¸­æ–‡ï¼‰
- æµ‹è¯•è¦†ç›–ç‡å¯è§†åŒ–
- Flaky testæ™ºèƒ½é‡è¯•
- å¤šæµè§ˆå™¨æµ‹è¯•æ”¯æŒ

#### D4: researcherï¼ˆå¢å¼ºï¼‰
ç°æœ‰åŠŸèƒ½å¢å¼ºï¼š
- ä¸­è‹±æ–‡èµ„æ–™æ•´åˆ
- æœ€æ–°æŠ€æœ¯è¿½è¸ª
- ç‰ˆæœ¬å…¼å®¹æ€§éªŒè¯
- å®æˆ˜æ¡ˆä¾‹åˆ†æ

#### D5: security-auditorï¼ˆå¢å¼ºï¼‰
ç°æœ‰åŠŸèƒ½å¢å¼ºï¼š
- ä¸­æ–‡å®‰å…¨æŠ¥å‘Š
- OWASP Top 10å…¨è¦†ç›–
- ä¾èµ–æ¼æ´æ‰«æ
- å®‰å…¨ä»£ç ç¤ºä¾‹

#### D6: improverï¼ˆæ–°å¢ä¸“é—¨åŠŸèƒ½ï¼‰
- è‡ªåŠ¨å­¦ä¹ ç”¨æˆ·ä¹ æƒ¯
- ä¸ªæ€§åŒ–æç¤ºä¼˜åŒ–
- å¸¸ç”¨æ¨¡å¼æå–
- æ•ˆç‡æå‡å»ºè®®

### 3.2 æ–°å¢ä¸“ç”¨Droids

#### D7: zh-tech-writerï¼ˆä¸“ä¸šæŠ€æœ¯æ–‡æ¡£ç¼–å†™ï¼‰
**æ–‡ä»¶**: `.factory/droids/zh-tech-writer.md`

èŒè´£ï¼š
- ç¼–å†™é«˜è´¨é‡æŠ€æœ¯æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰
- æ¶æ„è®¾è®¡æ–‡æ¡£
- APIæ–‡æ¡£
- ä½¿ç”¨æ‰‹å†Œ
- æœ€ä½³å®è·µæŒ‡å—

ç‰¹ç‚¹ï¼š
- ä¸­æ–‡æŠ€æœ¯æœ¯è¯­å‡†ç¡®
- ç»“æ„æ¸…æ™°é€»è¾‘ä¸¥å¯†
- å›¾è¡¨ä¸°å¯Œæ˜“æ‡‚
- æ—¶æ•ˆæ€§å’Œå‡†ç¡®æ€§

#### D8: fullstack-developerï¼ˆå…¨æ ˆå¼€å‘ï¼‰
**æ–‡ä»¶**: `.factory/droids/fullstack-developer.md`

èŒè´£ï¼š
- å‰åç«¯å®Œæ•´å¼€å‘
- æ•°æ®åº“è®¾è®¡
- APIå®ç°
- å‰ç«¯é¡µé¢
- éƒ¨ç½²é…ç½®

ç‰¹ç‚¹ï¼š
- å…¨æ ˆæŠ€æœ¯æ ˆç†Ÿæ‚‰
- æ¶æ„è®¾è®¡èƒ½åŠ›
- å®‰å…¨ç¼–ç æ„è¯†
- æ€§èƒ½ä¼˜åŒ–è€ƒè™‘

#### D9: devops-engineerï¼ˆDevOpså·¥ç¨‹ï¼‰
**æ–‡ä»¶**: `.factory/droids/devops-engineer.md`

èŒè´£ï¼š
- CI/CDæµç¨‹è®¾è®¡
- å®¹å™¨åŒ–éƒ¨ç½²
- ç›‘æ§å‘Šè­¦
- æ—¥å¿—ç³»ç»Ÿ
- è‡ªåŠ¨åŒ–è¿ç»´

ç‰¹ç‚¹ï¼š
- äº‘å¹³å°ç†Ÿæ‚‰
- å®¹å™¨æŠ€æœ¯ç²¾é€š
- è‡ªåŠ¨åŒ–æ€ç»´
- å¯é æ€§ä¿éšœ

## å››ã€ååŒå·¥ä½œæµç¨‹

### 4.1 æŠ€æœ¯è°ƒç ”æµç¨‹

```
ç”¨æˆ·è¯·æ±‚ â†’ researcher (æ·±åº¦è°ƒç ”)
         â†“
    info-collector (æ”¶é›†æ•´ç†)
         â†“
    zh-translator (ä¸­æ–‡ç¿»è¯‘)
         â†“
    technical-report (ç”ŸæˆæŠ¥å‘Š)
         â†“
   supervisor (ç»„ç»‡è¾“å‡ºï¼‰
```

### 4.2 ä»£ç å¼€å‘æµç¨‹

```
ç”¨æˆ·éœ€æ±‚ â†’ requirements-analysis (éœ€æ±‚åˆ†æ)
        â†“
    supervisor (ä»»åŠ¡åˆ†è§£)
        â†“
    researcher (æŠ€æœ¯æ–¹æ¡ˆç ”ç©¶)
        â†“
      coder (ç¼–ç å®ç°)
        â†“
     tester (æµ‹è¯•éªŒè¯)
        â†“
   code-review (ä»£ç å®¡æŸ¥)
        â†“
  security-auditor (å®‰å…¨å®¡è®¡)
        â†“
    auto-test-and-fix (å¾ªç¯ä¿®å¤)
        â†“
    lesson-extractor (ç»éªŒæå–)
```

### 4.3 æ¶æ„è®¾è®¡æµç¨‹

```
ç”¨æˆ·åœºæ™¯ â†’ requirements-analysis (éœ€æ±‚æå–)
         â†“
    architecture-review (æ¶æ„è¯„å®¡)
         â†“
    technical-report (è®¾è®¡æ–‡æ¡£)
         â†“
      coder (åŸå‹å®ç°)
         â†“
     tester (éªŒè¯æµ‹è¯•)
         â†“
    document-generator (ç”Ÿæˆæ–‡æ¡£)
```

### 4.4 æ–‡æ¡£ç¼–å†™æµç¨‹

```
ä»£ç /é…ç½® â†’ doc-generator (æ–‡æ¡£ç”Ÿæˆ)
           â†“
      zh-tech-writer (ç¼–å†™ä¼˜åŒ–)
           â†“
     reviewer (æ ¡å¯¹å®¡æ ¸)
           â†“
     å‘å¸ƒ/å½’æ¡£
```

### 4.5 æ€§èƒ½ä¼˜åŒ–æµç¨‹

```
æ€§èƒ½é—®é¢˜ â†’ diagnostic (è¯Šæ–­åˆ†æ)
         â†“
   performance-optimizer (ä¼˜åŒ–å»ºè®®)
         â†“
        coder (å®æ–½ä¼˜åŒ–)
         â†“
      tester (éªŒè¯æ•ˆæœ)
         â†“
   performance-optimizer (å¾ªç¯æ”¹è¿›ï¼‰
```

### 4.6 è¿ç§»å®æ–½æµç¨‹

```
è¿ç§»éœ€æ±‚ â†’ migration-guide (è¿ç§»è§„åˆ’)
         â†“
     supervisor (åˆ†æ­¥æ‰§è¡Œ)
         â†“
        coder (ä»£ç è¿ç§»)
         â†“
      tester (éªŒè¯æµ‹è¯•)
         â†“
    containerization (å®¹å™¨åŒ–)
         â†“
   devops-engineer (éƒ¨ç½²ä¸Šçº¿ï¼‰
```

## äº”ã€æ ¸å¿ƒå·¥å…·å’Œä¾èµ–

### 5.1 å¿…éœ€å·¥å…·

```json
{
  "python": {
    "tools": ["python3", "pip", "black", "ruff", "pytest", "mypy"],
    "min_version": "3.9"
  },
  "node": {
    "tools": ["node", "npm", "prettier", "eslint"],
    "min_version": "16.0"
  },
  "git": {
    "tools": ["git", "gh"],
    "min_version": "2.30"
  },
  "docker": {
    "tools": ["docker", "docker-compose", "kubectl (optional)"],
    "min_version": "20.10"
  }
}
```

### 5.2 Pythonä¾èµ–ï¼ˆrequirements.txtï¼‰

```
# ä»£ç è´¨é‡
black>=23.0.0
ruff>=0.1.0
mypy>=1.5.0

# æµ‹è¯•
pytest>=7.4.0
pytest-cov>=4.1.0
pytest-asyncio>=0.21.0

# æ€§èƒ½åˆ†æ
memory-profiler>=0.61.0
line-profiler>=4.0.0

# æ–‡æ¡£ç”Ÿæˆ
mkdocs>=1.5.0
mkdocs-material>=9.4.0
mkdocstrings[python]>=0.23.0

# å…¶ä»–
rich>=13.5.0
tqdm>=4.66.0
```

### 5.3 NPMä¾èµ–

```json
{
  "devDependencies": {
    "prettier": "^3.0.0",
    "eslint": "^8.50.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0"
  }
}
```

## å…­ã€é…ç½®æ–‡ä»¶å»ºè®®

### 6.1 é¡¹ç›®æ ¹ç›®å½•é…ç½®

#### .droid.yaml
```yaml
project:
  name: "é¡¹ç›®åç§°"
  type: "web|api|mobile|cli|library"
  tech_stack: ["Python", "Vue3", "PostgreSQL"]

signals:
  enabled: true
  mode: aggressive
  capture_failures: true
  auto_inject_lessons: true
  max_lesson_age_days: 30

quality:
  target_coverage: 80
  enforce_linting: true
  run_tests_before_commit: true

documentation:
  language: zh-CN
  format: markdown
  auto_generate: true

integrations:
  jira: false  # é›†æˆJIRA
  slack: false  # é›†æˆSlack
  enterprise_wechat: false  # é›†æˆä¼ä¸šå¾®ä¿¡
```

#### .prettierrc
```json
{
  "semi": false,
  "singleQuote": true,
  "printWidth": 100,
  "trailingComma": "es5",
  "arrowParens": "always"
}
```

#### pyproject.toml
```toml
[tool.black]
line-length = 100
target-version = ['py39']

[tool.ruff]
line-length = 100
select = ["E", "F", "I", "N", "W"]

[tool.pytest.ini_options]
testpaths = ["tests"]
addopts = "--cov=. --cov-report=term-missing --cov-report=html"

[tool.mypy]
python_version = "3.9"
warn_return_any = true
warn_unused_configs = true
```

### 6.2 .factoryé…ç½®ç»“æ„

```
.factory/
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ session-init-check.ps1          # Session initialization check
â”‚   â”œâ”€â”€ command-validator.ps1           # Command validation
â”‚   â”œâ”€â”€ enhanced-file-protect.ps1       # Enhanced file protection
â”‚   â”œâ”€â”€ change-tracker.ps1              # Change tracking
â”‚   â”œâ”€â”€ code-quality-gate.ps1           # Code quality gate
â”‚   â”œâ”€â”€ multi-channel-notify.ps1        # Multi-channel notifications
â”‚   â”œâ”€â”€ subtask-validator.ps1           # Subtask validation
â”‚   â”œâ”€â”€ session-summaries.ps1           # Session summaries
â”‚   â”œâ”€â”€ session-cleanup.ps1             # Session cleanup
â”‚   â”œâ”€â”€ auto-format.ps1                 # Auto formatting (updated for uv/pnpm)
â”‚   â”œâ”€â”€ setup-tools.ps1                 # Tool installation helper (uv/pnpm)
â”‚   â”œâ”€â”€ lesson-extractor.ps1            # Lesson extraction
â”‚   â””â”€â”€ post-failure-check.ps1          # Failure checking
â”œâ”€â”€ skills/
â”‚   â”œâ”€â”€ auto-test-and-fix/              # è‡ªåŠ¨æµ‹è¯•ä¿®å¤ï¼ˆå·²å­˜åœ¨ï¼‰
â”‚   â”œâ”€â”€ self-lesson-extract/            # ç»éªŒæå–ï¼ˆå·²å­˜åœ¨ï¼‰
â”‚   â”œâ”€â”€ plan-critique-fix/              # è®¡åˆ’æ‰¹è¯„ï¼ˆå·²å­˜åœ¨ï¼‰
â”‚   â”œâ”€â”€ technical-report/               # æŠ€æœ¯æŠ¥å‘Šç”Ÿæˆï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ zh-translator/                  # ä¸­æ–‡ç¿»è¯‘ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ architecture-review/            # æ¶æ„è¯„å®¡ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ code-review/                    # ä»£ç å®¡æŸ¥ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ doc-generator/                  # æ–‡æ¡£ç”Ÿæˆï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ requirements-analysis/          # éœ€æ±‚åˆ†æï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ database-design/                # æ•°æ®åº“è®¾è®¡ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ api-design/                     # APIè®¾è®¡ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ migration-guide/                # è¿ç§»æŒ‡å¯¼ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ performance-optimizer/          # æ€§èƒ½ä¼˜åŒ–ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ test-strategy/                  # æµ‹è¯•ç­–ç•¥ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ containerization/               # å®¹å™¨åŒ–éƒ¨ç½²ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ code-assistant/                 # ç¼–ç åŠ©æ‰‹ï¼ˆå·²å­˜åœ¨ï¼‰
â”‚   â””â”€â”€ info-collector/                 # ä¿¡æ¯æ”¶é›†ï¼ˆå·²å­˜åœ¨ï¼‰
â”œâ”€â”€ droids/
â”‚   â”œâ”€â”€ supervisor.md                   # ä¸»ç®¡ï¼ˆå·²å­˜åœ¨ï¼Œå¢å¼ºï¼‰
â”‚   â”œâ”€â”€ coder.md                        # ç¼–ç è€…ï¼ˆå·²å­˜åœ¨ï¼Œå¢å¼ºï¼‰
â”‚   â”œâ”€â”€ tester.md                       # æµ‹è¯•è€…ï¼ˆå·²å­˜åœ¨ï¼Œå¢å¼ºï¼‰
â”‚   â”œâ”€â”€ researcher.md                   # ç ”ç©¶è€…ï¼ˆå·²å­˜åœ¨ï¼Œå¢å¼ºï¼‰
â”‚   â”œâ”€â”€ security-auditor.md             # å®‰å…¨å®¡è®¡ï¼ˆå·²å­˜åœ¨ï¼Œå¢å¼ºï¼‰
â”‚   â”œâ”€â”€ improver.md                     # æ”¹è¿›è€…ï¼ˆå·²å­˜åœ¨ï¼Œå¢å¼ºï¼‰
â”‚   â”œâ”€â”€ zh-tech-writer.md               # æŠ€æœ¯æ–‡æ¡£ç¼–å†™ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ fullstack-developer.md          # å…¨æ ˆå¼€å‘ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ devops-engineer.md              # DevOpså·¥ç¨‹ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ sessions/                       # ä¼šè¯æ—¥å¿—ï¼ˆæŒ‰æ—¥æœŸï¼‰
â”‚   â”œâ”€â”€ failures/                       # å¤±è´¥æ—¥å¿—
â”‚   â”œâ”€â”€ changes/                        # å˜æ›´æ—¥å¿—
â”‚   â””â”€â”€ commands/                       # å‘½ä»¤å®¡è®¡æ—¥å¿—
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ reports/                        # æŠ¥å‘Šæ¨¡æ¿
â”‚   â”œâ”€â”€ docs/                           # æ–‡æ¡£æ¨¡æ¿
â”‚   â””â”€â”€ configs/                        # é…ç½®æ¨¡æ¿
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ quality-gates.json              # è´¨é‡é—¨ç¦é…ç½®
â”‚   â”œâ”€â”€ file-protection.json            # æ–‡ä»¶ä¿æŠ¤é…ç½®
â”‚   â””â”€â”€ notification-rules.json         # é€šçŸ¥è§„åˆ™é…ç½®
â”œâ”€â”€ .droid.yaml                         # é¡¹ç›®é…ç½®
â”œâ”€â”€ settings.json                       # Hooksé…ç½®
â”œâ”€â”€ lessons.md                          # æå–çš„ç»éªŒ
â””â”€â”€ PLAN.md                             # é¡¹ç›®è®¡åˆ’
```

## ä¸ƒã€æœ€ä½³å®è·µå’Œä½¿ç”¨æŒ‡å—

### 7.1 Hooksä½¿ç”¨å»ºè®®

1. **æ¸è¿›å¼å¯ç”¨**ï¼šä¸è¦ä¸€æ¬¡æ€§å¯ç”¨æ‰€æœ‰hooksï¼Œå…ˆä»æ ¸å¿ƒçš„ï¼ˆæ–‡ä»¶ä¿æŠ¤ã€è‡ªåŠ¨æ ¼å¼åŒ–ï¼‰å¼€å§‹
2. **æ€§èƒ½è€ƒè™‘**ï¼šè€—æ—¶çš„hooksè®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´ï¼Œé¿å…é˜»å¡å·¥ä½œæµ
3. **é”™è¯¯å¤„ç†**ï¼šç¡®ä¿hooksè„šæœ¬æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†ï¼Œå¤±è´¥æ—¶ä¸è¦ä¸­æ–­ä¸»æµç¨‹
4. **æ—¥å¿—è®°å½•**ï¼šå…³é”®hooksè¦æœ‰æ—¥å¿—ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥
5. **å®‰å…¨å®¡æŸ¥**ï¼šå®šæœŸå®¡æŸ¥hooksè„šæœ¬çš„å®‰å…¨æ€§

### 7.2 Skillsä½¿ç”¨å»ºè®®

1. **é€‰æ‹©åˆé€‚çš„Skill**ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹ä½¿ç”¨å¯¹åº”çš„ä¸“ç”¨skill
2. **æä¾›æ¸…æ™°è¾“å…¥**ï¼šç»™skillæä¾›è¶³å¤Ÿè¯¦ç»†çš„ä¸Šä¸‹æ–‡å’Œéœ€æ±‚
3. **éªŒè¯è¾“å‡ºç»“æœ**ï¼šå¯¹skillç”Ÿæˆçš„ç»“æœè¿›è¡Œå®¡æŸ¥å’ŒéªŒè¯
4. **æŒç»­å­¦ä¹ **ï¼šæ ¹æ®ä½¿ç”¨åé¦ˆä¸æ–­æ”¹è¿›skillçš„æç¤ºè¯

### 7.3 Droidsä½¿ç”¨å»ºè®®

1. **ä»»åŠ¡å§”æ‰˜**ï¼šå¤æ‚ä»»åŠ¡ä½¿ç”¨supervisorè¿›è¡Œç»Ÿä¸€è°ƒåº¦
2. **ä¸“ä¸šæ€§é€‰æ‹©**ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹é€‰æ‹©åˆé€‚çš„ä¸“ä¸šdroid
3. **ç›‘ç£è¿›åº¦**ï¼šé€šè¿‡Plan.mdå’ŒTodoWriteè·Ÿè¸ªè¿›åº¦
4. **ç»éªŒåº”ç”¨**ï¼šå®šæœŸæŸ¥çœ‹å’Œåº”ç”¨lessons.mdä¸­çš„ç»éªŒ

### 7.4 ä¸­æ–‡æ”¯æŒç­–ç•¥

1. **æœ¯è¯­ç®¡ç†**ï¼šç»´æŠ¤æŠ€æœ¯æœ¯è¯­ä¸­è‹±æ–‡å¯¹ç…§è¡¨
2. **è¡¨è¾¾ä¹ æƒ¯**ï¼šéµå¾ªä¸­æ–‡æŠ€æœ¯ç¤¾åŒºè¡¨è¾¾ä¹ æƒ¯
3. **æ–‡åŒ–é€‚é…**ï¼šè°ƒæ•´ç¤ºä¾‹æ¡ˆä¾‹é€‚åº”ä¸­å›½ç”¨æˆ·åœºæ™¯
4. **æ—¶åŒºå¤„ç†**ï¼šæ­£ç¡®å¤„ç†ä¸­å›½æ—¶åŒºï¼ˆAsia/Shanghaiï¼‰
5. **æœ¬åœ°åŒ–å·¥å…·**ï¼šä¼˜å…ˆä½¿ç”¨å›½å†…å¯è®¿é—®çš„å·¥å…·å’ŒæœåŠ¡

## å…«ã€å®æ–½è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒHookså®ç°ï¼ˆ1-2å‘¨ï¼‰
- âœ… å®ç°ç°æœ‰hooksï¼ˆauto-format, file-protectç­‰ï¼‰
- âœ… æ–°å¢ï¼šsession-init-check, command-validator
- âœ… æ–°å¢ï¼šchange-tracker, code-quality-gate
- âœ… æ–°å¢ï¼šmulti-channel-notify, subtask-validator, session-summaries, session-cleanup
- âœ… å®Œå–„æ”¯æŒuvå’Œpnpm
- ğŸ”„ å®Œå–„ï¼šsettings.jsoné…ç½®

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒSkillså®ç°ï¼ˆ2-3å‘¨ï¼‰
- âœ… ä¿ç•™ç°æœ‰skillsï¼ˆauto-test-and-fixç­‰ï¼‰
- ğŸ”„ æ–°å¢ï¼štechnical-report, zh-translator
- ğŸ”„ æ–°å¢ï¼šcode-review, architecture-review
- ğŸ”„ æ–°å¢ï¼šdoc-generator, requirements-analysis

### ç¬¬ä¸‰é˜¶æ®µï¼šDroidsä¼˜åŒ–å’Œæ–°å¢ï¼ˆ2-3å‘¨ï¼‰
- ğŸ”„ å¢å¼ºï¼šsupervisor, coder, testerç­‰ç°æœ‰droids
- ğŸ”„ æ–°å¢ï¼šzh-tech-writer
- ğŸ”„ æ–°å¢ï¼šfullstack-developer, devops-engineer

### ç¬¬å››é˜¶æ®µï¼šé›†æˆæµ‹è¯•å’Œä¼˜åŒ–ï¼ˆ1å‘¨ï¼‰
- ğŸ”„ ç«¯åˆ°ç«¯å·¥ä½œæµæµ‹è¯•
- ğŸ”„ æ€§èƒ½ä¼˜åŒ–
- ğŸ”„ æ–‡æ¡£å®Œå–„
- ğŸ”„ ç”¨æˆ·åŸ¹è®­ææ–™

### ç¬¬äº”é˜¶æ®µï¼šè¿­ä»£å’Œæ”¹è¿›ï¼ˆæŒç»­ï¼‰
- ğŸ”„ æ”¶é›†ä½¿ç”¨åé¦ˆ
- ğŸ”„ bugä¿®å¤
- ğŸ”„ æ–°åŠŸèƒ½å¼€å‘
- ğŸ”„ æœ€ä½³å®è·µæ²‰æ·€

## ä¹ã€æ€§èƒ½å’Œèµ„æºè€ƒè™‘

### 9.1 Hooksæ€§èƒ½ä¼˜åŒ–

- å¼‚æ­¥æ‰§è¡Œéå…³é”®hooks
- ç¼“å­˜é‡å¤æ£€æŸ¥ç»“æœ
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
- å¹¶è¡Œæ‰§è¡Œç‹¬ç«‹hooks

### 9.2 Skillsæ‰§è¡Œä¼˜åŒ–

- æ™ºèƒ½æç¤ºè¯ç¼“å­˜
- ç»“æœæ¨¡æ¿å¤ç”¨
- æ‰¹é‡å¤„ç†èƒ½åŠ›
- ä¸­é—´ç»“æœä¿å­˜

### 9.3 èµ„æºç®¡ç†

- æ—¥å¿—è½®è½¬å’Œå‹ç¼©
- ä¸´æ—¶æ–‡ä»¶æ¸…ç†
- å†…å­˜ä½¿ç”¨ç›‘æ§
- ç£ç›˜ç©ºé—´ç®¡ç†

## åã€å®‰å…¨å’Œéšç§

### 10.1 Hookså®‰å…¨æ£€æŸ¥

- ä»£ç å®¡æŸ¥æ‰€æœ‰hooksè„šæœ¬
- é¿å…ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
- é”™è¯¯ä¿¡æ¯ä¸æ³„éœ²æ•æ„Ÿæ•°æ®
- æ—¥å¿—è„±æ•å¤„ç†

### 10.2 æ•°æ®éšç§

- æœ¬åœ°ä¼˜å…ˆç­–ç•¥
- ä¸å‘é€ä»£ç åˆ°å¤–éƒ¨ï¼ˆé™¤éæ˜ç¡®æˆæƒï¼‰
- APIå¯†é’¥å®‰å…¨ç®¡ç†
- å®¡è®¡æ—¥å¿—è®¿é—®æ§åˆ¶

## åä¸€ã€æ•…éšœå¤„ç†å’Œæ¢å¤

### 11.1 å¸¸è§é—®é¢˜

1. **Hookæ‰§è¡Œå¤±è´¥**ï¼šæ£€æŸ¥è„šæœ¬æƒé™ã€ä¾èµ–ã€è¶…æ—¶è®¾ç½®
2. **Skillè¾“å‡ºä¸ç¬¦é¢„æœŸ**ï¼šæä¾›æ›´æ¸…æ™°çš„è¾“å…¥ã€æ£€æŸ¥ä¸Šä¸‹æ–‡
3. **Droidä»»åŠ¡å¡ä½**ï¼šæ£€æŸ¥PLAN.mdè¿›åº¦ã€ä½¿ç”¨Stopå‘½ä»¤
4. **æ€§èƒ½é—®é¢˜**ï¼šå‡å°‘å¯ç”¨çš„hooksã€ä¼˜åŒ–è„šæœ¬

### 11.2 æ¢å¤æœºåˆ¶

- å¤±è´¥hooksé™çº§å¤„ç†
- ä»»åŠ¡æ–­ç‚¹ç»­ä¼ 
- ä¼šè¯çŠ¶æ€ä¿å­˜
- å›æ»šèƒ½åŠ›

## åäºŒã€æ‰©å±•æ€§è®¾è®¡

### 12.1 æ’ä»¶åŒ–æ¶æ„

- Hooksæ”¯æŒçƒ­åŠ è½½
- Skillså¯åŠ¨æ€æ³¨å†Œ
- Droidsæ’ä»¶ç³»ç»Ÿ

### 12.2 é…ç½®é©±åŠ¨

- é«˜åº¦å¯é…ç½®
- å¤šç¯å¢ƒæ”¯æŒ
- é…ç½®ç»§æ‰¿å’Œè¦†ç›–

### 12.3 ç¤¾åŒºæ‰©å±•

- å‚è€ƒæ ‡å‡†è§„èŒƒ
- å¯åˆ†äº«çš„æŠ€èƒ½åº“
- æœ€ä½³å®è·µæ–‡æ¡£

## åä¸‰ã€æ•ˆæœè¯„ä¼°æŒ‡æ ‡

### 13.1 æ•ˆç‡æå‡

- ä»»åŠ¡å®Œæˆæ—¶é—´ç¼©çŸ­
- ä»£ç ç”Ÿæˆè´¨é‡æé«˜
- æ–‡æ¡£ç¼–å†™é€Ÿåº¦æå‡
- æµ‹è¯•è¦†ç›–ç‡æå‡

### 13.2 è´¨é‡æ”¹å–„

- Bugæ•°é‡å‡å°‘
- ä»£ç è´¨é‡è¯„åˆ†æå‡
- å®‰å…¨æ¼æ´é™ä½
- æ–‡æ¡£å®Œæ•´æ€§æé«˜

### 13.3 ç”¨æˆ·æ»¡æ„åº¦

- ä½¿ç”¨é¢‘ç‡
- ä»»åŠ¡æˆåŠŸç‡
- ç”¨æˆ·åé¦ˆè¯„åˆ†
- åŠŸèƒ½ä½¿ç”¨ç‡

---

## æ€»ç»“

è¿™å¥—å®Œæ•´çš„è®¾è®¡æ–¹æ¡ˆé€šè¿‡ï¼š

1. **å…¨é¢çš„Hooksä½“ç³»**ï¼šå®ç°è‡ªåŠ¨åŒ–å·¥ä½œæµã€è´¨é‡ä¿éšœå’Œå®‰å…¨é˜²æŠ¤
2. **ä¸°å¯Œçš„Skillsåº“**ï¼šè¦†ç›–ç¼–ç ã€ç ”ç©¶ã€æ–‡æ¡£ã€æµ‹è¯•ç­‰å…¨æµç¨‹
3. **ä¸“ä¸šçš„Droids**ï¼šæä¾›é¢†åŸŸä¸“å®¶çº§åˆ«çš„è¾…åŠ©èƒ½åŠ›
4. **ç°ä»£åŒ–å·¥å…·é“¾**ï¼šä¼˜å…ˆæ”¯æŒ uv (PythonåŒ…ç®¡ç†) å’Œ pnpm (å‰ç«¯åŒ…ç®¡ç†)
5. **å¯æ‰©å±•æ¶æ„**ï¼šæ”¯æŒæŒç»­æ‰©å±•å’Œå®šåˆ¶
6. **ä¸­æ–‡å‹å¥½**ï¼šä¸“ä¸ºä¸­æ–‡ç”¨æˆ·ä¼˜åŒ–ï¼Œç¬¦åˆè¡¨è¾¾ä¹ æƒ¯

èƒ½å¤Ÿæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡å’Œé¡¹ç›®æˆåŠŸç‡ï¼Œæ˜¯ä¸­æ–‡ç”¨æˆ·ä½¿ç”¨Factory Droidè¿›è¡ŒæŠ€æœ¯å·¥ä½œçš„ç†æƒ³åŠ©æ‰‹ã€‚

